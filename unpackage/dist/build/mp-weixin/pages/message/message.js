(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/message/message"],{"0a5e":function(t,e,n){"use strict";n.r(e);var a=n("a1ac"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},"50a7":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var a={slFilter:function(){return n.e("components/sl-filter/sl-filter").then(n.bind(null,"b078"))},uPopup:function(){return n.e("node-modules/uview-ui/components/u-popup/u-popup").then(n.bind(null,"8910"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"92a9"))},uToast:function(){return n.e("node-modules/uview-ui/components/u-toast/u-toast").then(n.bind(null,"874a"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,(function(e,n){var a=t.__get_orig(e),i=t._f("formatData")(e.address);return{$orig:a,f0:i}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},s=[]},6621:function(t,e,n){"use strict";(function(t){n("78ac");a(n("66fd"));var e=a(n("77b9"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"77b9":function(t,e,n){"use strict";n.r(e);var a=n("50a7"),i=n("0a5e");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("e239");var r,o=n("f0c5"),l=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"756e19d8",null,!1,a["a"],r);e["default"]=l.exports},a1ac:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(n("a34a")),i=s(n("e72f"));function s(t){return t&&t.__esModule?t:{default:t}}function r(t){return c(t)||u(t)||l(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function d(t,e,n,a,i,s,r){try{var o=t[s](r),l=o.value}catch(u){return void n(u)}o.done?e(l):Promise.resolve(l).then(a,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function r(t){d(s,a,i,r,o,"next",t)}function o(t){d(s,a,i,r,o,"throw",t)}r(void 0)}))}}var m=function(){n.e("components/sl-filter/sl-filter").then(function(){return resolve(n("b078"))}.bind(null,n)).catch(n.oe)},p={components:{slFilter:m},data:function(){return{provinceValue:"",cityValue:"",popupFlag:!1,top_flag:!1,bottomMessage:!1,cao:"",list:[],list1:[],flag:!1,num:0,message:"",lucene:!1,dataSource:[],name:"-- 地区 --",classifyArr:[[],[]],classifyIndex:[0,0],childArr:[],addressName:"",areaName:"",zType:"",zTime:"",themeColor:"#19b955",titleColor:"#666666",filterResult:"",menuList:[{title:"单选",key:"single",isMutiple:!1,reflexTitle:!0,detailTitle:"请选择（单选）",defaultSelectedIndex:0,detailList:[{title:"公告类型",value:""},{title:"中标",value:"中标"},{title:"招标",value:"招标"}]},{title:"排序",key:"timesort",isSort:!0,reflexTitle:!0,defaultSelectedIndex:0,detailList:[{title:"时间",value:""},{title:"近一天",value:"1"},{title:"近一周",value:"7"},{title:"近一月",value:"30"},{title:"近三月",value:"90"},{title:"近半年",value:"180"},{title:"近一年",value:"365"}]}]}},onLoad:function(t){this.dataSource=i.default,this.getAllClassify()},onReachBottom:function(){this.sear()},methods:{login:function(e){var n=this,a=e.detail.userInfo,i=a.avatarUrl,s=a.nickName;console.log(a),t.login({success:function(e){var a=e.code,r={};r.avatarUrl=i,r.nickName=s,n.popupFlag=!1,t.request({url:"https://zbger.com:8443/zbger/wechatAppletsUser/login",method:"POST",data:{avatarUrl:i,nickName:s,code:a},success:function(e){console.log(e),0===e.data.code?(r.openId=e.data.msg,t.setStorageSync("zbgerUserInfo",r),n.$refs.uToast.show({title:"登录成功",type:"success",position:"top"})):n.$refs.uToast.show({title:"授权失败",type:"err",position:"top"})}})}})},top:function(){t.pageScrollTo({scrollTop:0,duration:300})},onPageScroll:function(t){t.scrollTop>600?this.top_flag=!0:this.top_flag=!1},onKeyFocus:function(){""!==this.message?(this.lucene=!0,this.list1=[],this.luc()):(this.lucene=!1,this.list1=[])},onKeyInput:function(){""!==this.message?(this.lucene=!0,this.list1=[],this.luc()):(this.lucene=!1,this.list1=[])},onKeyBlur:function(){this.lucene=!1},acName:function(t){this.list=[],this.cao=t,this.na(),this.lucene=!1,this.list1=[]},na:function(){var t=this;return h(a.default.mark((function e(){var n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$myRequest({url:"/procurement/inviteTenders/selectByName.do?keyword="+t.cao});case 2:n=e.sent,t.list=[].concat(r(t.list),r(n.data)),t.list.forEach((function(t){t["radio_flag"]=!0}));case 5:case"end":return e.stop()}}),e)})))()},luc:function(){var t=this;return h(a.default.mark((function e(){var n,i,s;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$myRequest({url:"/procurement/inviteTenders/selectTenByLucene.do?keyword="+t.message});case 2:for(n=e.sent,i=0;i<n.data.length;i++)s=Math.ceil(9*Math.random()+2),n.data[i].announcementName=n.data[i].announcementName.substring(n.data[i].announcementName.indexOf(t.message),n.data[i].announcementName.indexOf(t.message)+s);t.list1=[].concat(r(t.list1),r(n.data)),t.list1.forEach((function(t){t["radio_flag"]=!0}));case 6:case"end":return e.stop()}}),e)})))()},set:function(){this.num=0,this.list=[],this.bottomMessage=!1,this.flag=!1,null==this.areaName&&""==this.zTime&&""==this.zType&&""==this.message?t.showModal({title:"提示",content:"请输入搜索内容或筛选条件！",showCancel:!1}):this.sear()},sear:function(){var e=this;return h(a.default.mark((function n(){var i,s;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$myRequest({url:"/zbger/inviteTenders/findTenData?provinceCode="+e.provinceValue+"&cityCode="+e.cityValue+"&announcementType="+e.zType+"&day="+e.zTime+"&keyword="+e.message+"&pageNo="+e.num});case 2:i=n.sent,null!==i.data.data&&(e.list=[].concat(r(e.list),r(i.data.data)),e.list.forEach((function(t){t["radio_flag"]=!0})),e.num=e.num+10,0==e.list.length?t.showModal({title:"提示",content:"该内容搜索不到！",showCancel:!1}):(e.flag=!0,t.showLoading({title:"加载中"}),s=e,setTimeout((function(){t.hideLoading(),i.data.data.length<10&&(s.bottomMessage=!0)}),1e3))),0===e.list.length&&(e.bottomMessage=!1,t.showModal({title:"提示",content:"该内容搜索不到！",showCancel:!1}));case 5:case"end":return n.stop()}}),n)})))()},det:function(e){var n=e.currentTarget.dataset,a=n.address,i=n.time,s=n.gxxtext,r=(e=n.url,n.enclosurename),o=n.enclosureurl,l=n.announcementname,u=n.index;n.radio_flag=!1,this.list[u].radio_flag=!1,this.$forceUpdate();var c=t.getStorageSync("zbgerUserInfo");null!==c&&""!==c&&"null"!==c?t.navigateTo({url:"../notice/total?a="+l+"&b="+a+"&c="+i+"&d="+s+"&e="+e+"&f="+r+"&g="+o}):this.popupFlag=!0},getAllClassify:function(){for(var t=this.dataSource.length,e=0;e<t;e++)null===this.dataSource[e].children&&(this.dataSource[e].children=[]),this.childArr.push(this.dataSource[e].children);this.classifyArr[0]=this.dataSource},classifyChange:function(t){var e=t.target.value;console.log("value:"+e),this.classifyIndex=e,0!=this.classifyArr[0].length&&(this.areaName=this.classifyArr[0][this.classifyIndex[0]].label,this.provinceValue=this.classifyArr[0][this.classifyIndex[0]].value,this.name=this.areaName),0!=this.classifyArr[1].length&&(this.areaName=this.classifyArr[1][this.classifyIndex[1]].label,""===this.areaName?(this.areaName=this.classifyArr[0][this.classifyIndex[0]].label,this.provinceValue=this.classifyArr[0][this.classifyIndex[0]].value):(this.name=this.areaName,this.cityValue=this.classifyArr[1][this.classifyIndex[1]].value)),console.log(this.provinceValue+this.cityValue),"-- 地区 --"===this.name&&(this.areaName=""),this.set()},columnchange:function(t){0==t.detail.column&&this.$set(this.classifyArr,1,this.childArr[t.detail.value])},result:function(t){this.filterResult=JSON.stringify(t,null,2),this.zType=t.single,this.zTime=t.timesort,this.set()}},filters:{formatData:function(t){if(null===t)return"未知";var e=t.split("省");return e.length>1?e[1]:t}}};e.default=p}).call(this,n("543d")["default"])},c302:function(t,e,n){},e239:function(t,e,n){"use strict";var a=n("c302"),i=n.n(a);i.a}},[["6621","common/runtime","common/vendor"]]]);